/*!
 * Tenor.js v1.0.0
 * (c) 2021 Arnav Kumar
 * https://github.com/arnav-kr/tenorjs/#readme
 * Released under the MIT License.
 */
class Tenor{constructor(t,e){if(this.key=t,this.filter=e.filter||"high",this.locale=e.locale||"en_US",this.mediaFilter=e.mediaFilter||"minimal",this.limit=50,null==t||"string"!=typeof t)throw"TenorError: Key is required as the first argument";this.endpoints={},this.endpoints.search="https://g.tenor.com/v1/search",this.endpoints.autocomplete="https://g.tenor.com/v1/autocomplete",this.endpoints.suggestion="https://g.tenor.com/v1/search_suggestions",this.endpoints.trending_search="https://g.tenor.com/v1/trending_terms",this.endpoints.trending="https://g.tenor.com/v1/trending",this.endpoints.category="https://g.tenor.com/v1/categories",this.endpoints.registerShare="https://g.tenor.com/v1/registershare",this.endpoints.gif="https://g.tenor.com/v1/gifs",this.endpoints.randomGif="https://g.tenor.com/v1/random"}getGif(t,e){var i,s=e||this.limit;i="object"==typeof t?t.join(","):t||"";var r=encodeURI(`${this.endpoints.gif}?ids=${i}&contentfilter=${this.filter}&limit=${s}&key=${this.key}`);return new Promise((t,e)=>{this.fetchData(r,e=>{var i=JSON.parse(e);t(i.results)})})}getRandomGif(t,e){var i=e||this.limit,s=t||"",r=encodeURI(`${this.endpoints.randomGif}?q=${s}&contentfilter=${this.filter}&limit=${i}&key=${this.key}`);return new Promise((t,e)=>{this.fetchData(r,e=>{var i=JSON.parse(e);t(i.results)})})}search(t,e){var i=e||this.limit,s=t||"",r=encodeURI(`${this.endpoints.search}?q=${s}&contentfilter=${this.filter}&limit=${i}&key=${this.key}`);return new Promise((t,e)=>{this.fetchData(r,e=>{var i=JSON.parse(e);t(i.results)})})}autocomplete(t){var e=t||"",i=encodeURI(`${this.endpoints.autocomplete}?q=${e}&key=${this.key}`);return new Promise((t,e)=>{this.fetchData(i,e=>{var i=JSON.parse(e);t(i.results)})})}suggestion(t,e){var i=e||this.limit,s=t||"",r=encodeURI(`${this.endpoints.suggestion}?q=${s}&contentfilter=${this.filter}&limit=${i}&key=${this.key}`);return new Promise((t,e)=>{this.fetchData(r,e=>{var i=JSON.parse(e);t(i.results)})})}trending(t){var e=t||this.limit,i=encodeURI(`${this.endpoints.trending}?contentfilter=${this.filter}&limit=${e}&key=${this.key}`);return new Promise((t,e)=>{this.fetchData(i,e=>{var i=JSON.parse(e);t(i.results)})})}trending_search(t){var e=t||this.limit,i=encodeURI(`${this.endpoints.trending_search}?limit=${e}&key=${this.key}`);return new Promise((t,e)=>{this.fetchData(i,e=>{var i=JSON.parse(e);t(i.results)})})}category(t){var e=t||"featured",i=encodeURI(`${this.endpoints.category}?type=${e}&contentfilter=${this.filter}&key=${this.key}`);return new Promise((t,e)=>{this.fetchData(i,e=>{var i=JSON.parse(e);t(i.tags)})})}fetchData(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200==i.status&&e(i.responseText)},i.open("GET",t,!0),i.send(null)}}
